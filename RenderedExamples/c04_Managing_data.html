<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="data:text/css;charset=utf-8,%0A%40font%2Dface%20%7B%0Afont%2Dfamily%3A%20octicons%2Dlink%3B%0Asrc%3A%20url%28data%3Afont%2Fwoff%3Bcharset%3Dutf%2D8%3Bbase64%2Cd09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAAQAAAAAZnBnbQAAA7gAAACyAAABCUM%2B8IhnYXNwAAAGTAAAABAAAAAQABoAI2dseWYAAAFsAAABPAAAAZwcEq9taGVhZAAAAsgAAAA0AAAANgh4a91oaGVhAAADCAAAABoAAAAkCA8DRGhtdHgAAAL8AAAADAAAAAwGAACfbG9jYQAAAsAAAAAIAAAACABiATBtYXhwAAACqAAAABgAAAAgAA8ASm5hbWUAAAToAAABQgAAAlXu73sOcG9zdAAABiwAAAAeAAAAME3QpOBwcmVwAAAEbAAAAHYAAAB%2FaFGpk3jaTY6xa8JAGMW%2FO62BDi0tJLYQincXEypYIiGJjSgHniQ6umTsUEyLm5BV6NDBP8Tpts6F0v%2Bk%2F0an2i%2BitHDw3v2%2B9%2BDBKTzsJNnWJNTgHEy4BgG3EMI9DCEDOGEXzDADU5hBKMIgNPZqoD3SilVaXZCER3%2FI7AtxEJLtzzuZfI%2BVVkprxTlXShWKb3TBecG11rwoNlmmn1P2WYcJczl32etSpKnziC7lQyWe1smVPy%2FLt7Kc%2B0vWY%2FgAgIIEqAN9we0pwKXreiMasxvabDQMM4riO%2BqxM2ogwDGOZTXxwxDiycQIcoYFBLj5K3EIaSctAq2kTYiw%2Bymhce7vwM9jSqO8JyVd5RH9gyTt2%2BJ%2FyUmYlIR0s04n6%2B7Vm1ozezUeLEaUjhaDSuXHwVRgvLJn1tQ7xiuVv%2FocTRF42mNgZGBgYGbwZOBiAAFGJBIMAAizAFoAAABiAGIAznjaY2BkYGAA4in8zwXi%2BW2%2BMjCzMIDApSwvXzC97Z4Ig8N%2FBxYGZgcgl52BCSQKAA3jCV8CAABfAAAAAAQAAEB42mNgZGBg4f3vACQZQABIMjKgAmYAKEgBXgAAeNpjYGY6wTiBgZWBg2kmUxoDA4MPhGZMYzBi1AHygVLYQUCaawqDA4PChxhmh%2F8ODDEsvAwHgMKMIDnGL0x7gJQCAwMAJd4MFwAAAHjaY2BgYGaA4DAGRgYQkAHyGMF8NgYrIM3JIAGVYYDT%2BAEjAwuDFpBmA9KMDEwMCh9i%2Fv8H8sH0%2F4dQc1iAmAkALaUKLgAAAHjaTY9LDsIgEIbtgqHUPpDi3gPoBVyRTmTddOmqTXThEXqrob2gQ1FjwpDvfwCBdmdXC5AVKFu3e5MfNFJ29KTQT48Ob9%2FlqYwOGZxeUelN2U2R6%2BcArgtCJpauW7UQBqnFkUsjAY%2FkOU1cP%2BDAgvxwn1chZDwUbd6CFimGXwzwF6tPbFIcjEl%2BvvmM%2FbyA48e6tWrKArm4ZJlCbdsrxksL1AwWn%2FyBSJKpYbq8AXaaTb8AAHja28jAwOC00ZrBeQNDQOWO%2F%2FsdBBgYGRiYWYAEELEwMTE4uzo5Zzo5b2BxdnFOcALxNjA6b2ByTswC8jYwg0VlNuoCTWAMqNzMzsoK1rEhNqByEyerg5PMJlYuVueETKcd%2F89uBpnpvIEVomeHLoMsAAe1Id4AAAAAAAB42oWQT07CQBTGv0JBhagk7HQzKxca2sJCE1hDt4QF%2B9JOS0nbaaYDCQfwCJ7Au3AHj%2BLO13FMmm6cl7785vven0kBjHCBhfpYuNa5Ph1c0e2Xu3jEvWG7UdPDLZ4N92nOm%2BEBXuAbHmIMSRMs%2B4aUEd4Nd3CHD8NdvOLTsA2GL8M9PODbcL%2BhD7C1xoaHeLJSEao0FEW14ckxC%2BTU8TxvsY6X0eLPmRhry2WVioLpkrbp84LLQPGI7c6sOiUzpWIWS5GzlSgUzzLBSikOPFTOXqly7rqx0Z1Q5BAIoZBSFihQYQOOBEdkCOgXTOHA07HAGjGWiIjaPZNW13%2F%2Blm6S9FT7rLHFJ6fQbkATOG1j2OFMucKJJsxIVfQORl%2B9Jyda6Sl1dUYhSCm1dyClfoeDve4qMYdLEbfqHf3O%2FAdDumsjAAB42mNgYoAAZQYjBmyAGYQZmdhL8zLdDEydARfoAqIAAAABAAMABwAKABMAB%2F%2F%2FAA8AAQAAAAAAAAAAAAAAAAABAAAAAA%3D%3D%29%20format%28%27woff%27%29%3B%0A%7D%0Abody%20%7B%0A%2Dwebkit%2Dtext%2Dsize%2Dadjust%3A%20100%25%3B%0Atext%2Dsize%2Dadjust%3A%20100%25%3B%0Acolor%3A%20%23333%3B%0Afont%2Dfamily%3A%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20%22Segoe%20UI%22%2C%20Arial%2C%20freesans%2C%20sans%2Dserif%2C%20%22Apple%20Color%20Emoji%22%2C%20%22Segoe%20UI%20Emoji%22%2C%20%22Segoe%20UI%20Symbol%22%3B%0Afont%2Dsize%3A%2016px%3B%0Aline%2Dheight%3A%201%2E6%3B%0Aword%2Dwrap%3A%20break%2Dword%3B%0A%7D%0Aa%20%7B%0Abackground%2Dcolor%3A%20transparent%3B%0A%7D%0Aa%3Aactive%2C%0Aa%3Ahover%20%7B%0Aoutline%3A%200%3B%0A%7D%0Astrong%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Ah1%20%7B%0Afont%2Dsize%3A%202em%3B%0Amargin%3A%200%2E67em%200%3B%0A%7D%0Aimg%20%7B%0Aborder%3A%200%3B%0A%7D%0Ahr%20%7B%0Abox%2Dsizing%3A%20content%2Dbox%3B%0Aheight%3A%200%3B%0A%7D%0Apre%20%7B%0Aoverflow%3A%20auto%3B%0A%7D%0Acode%2C%0Akbd%2C%0Apre%20%7B%0Afont%2Dfamily%3A%20monospace%2C%20monospace%3B%0Afont%2Dsize%3A%201em%3B%0A%7D%0Ainput%20%7B%0Acolor%3A%20inherit%3B%0Afont%3A%20inherit%3B%0Amargin%3A%200%3B%0A%7D%0Ahtml%20input%5Bdisabled%5D%20%7B%0Acursor%3A%20default%3B%0A%7D%0Ainput%20%7B%0Aline%2Dheight%3A%20normal%3B%0A%7D%0Ainput%5Btype%3D%22checkbox%22%5D%20%7B%0Abox%2Dsizing%3A%20border%2Dbox%3B%0Apadding%3A%200%3B%0A%7D%0Atable%20%7B%0Aborder%2Dcollapse%3A%20collapse%3B%0Aborder%2Dspacing%3A%200%3B%0A%7D%0Atd%2C%0Ath%20%7B%0Apadding%3A%200%3B%0A%7D%0A%2A%20%7B%0Abox%2Dsizing%3A%20border%2Dbox%3B%0A%7D%0Ainput%20%7B%0Afont%3A%2013px%20%2F%201%2E4%20Helvetica%2C%20arial%2C%20nimbussansl%2C%20liberationsans%2C%20freesans%2C%20clean%2C%20sans%2Dserif%2C%20%22Apple%20Color%20Emoji%22%2C%20%22Segoe%20UI%20Emoji%22%2C%20%22Segoe%20UI%20Symbol%22%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%234078c0%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%2C%0Aa%3Aactive%20%7B%0Atext%2Ddecoration%3A%20underline%3B%0A%7D%0Ahr%20%7B%0Aheight%3A%200%3B%0Amargin%3A%2015px%200%3B%0Aoverflow%3A%20hidden%3B%0Abackground%3A%20transparent%3B%0Aborder%3A%200%3B%0Aborder%2Dbottom%3A%201px%20solid%20%23ddd%3B%0A%7D%0Ahr%3Abefore%20%7B%0Adisplay%3A%20table%3B%0Acontent%3A%20%22%22%3B%0A%7D%0Ahr%3Aafter%20%7B%0Adisplay%3A%20table%3B%0Aclear%3A%20both%3B%0Acontent%3A%20%22%22%3B%0A%7D%0Ah1%2C%0Ah2%2C%0Ah3%2C%0Ah4%2C%0Ah5%2C%0Ah6%20%7B%0Amargin%2Dtop%3A%2015px%3B%0Amargin%2Dbottom%3A%2015px%3B%0Aline%2Dheight%3A%201%2E1%3B%0A%7D%0Ah1%20%7B%0Afont%2Dsize%3A%2030px%3B%0A%7D%0Ah2%20%7B%0Afont%2Dsize%3A%2021px%3B%0A%7D%0Ah3%20%7B%0Afont%2Dsize%3A%2016px%3B%0A%7D%0Ah4%20%7B%0Afont%2Dsize%3A%2014px%3B%0A%7D%0Ah5%20%7B%0Afont%2Dsize%3A%2012px%3B%0A%7D%0Ah6%20%7B%0Afont%2Dsize%3A%2011px%3B%0A%7D%0Ablockquote%20%7B%0Amargin%3A%200%3B%0A%7D%0Aul%2C%0Aol%20%7B%0Apadding%3A%200%3B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Aol%20ol%2C%0Aul%20ol%20%7B%0Alist%2Dstyle%2Dtype%3A%20lower%2Droman%3B%0A%7D%0Aul%20ul%20ol%2C%0Aul%20ol%20ol%2C%0Aol%20ul%20ol%2C%0Aol%20ol%20ol%20%7B%0Alist%2Dstyle%2Dtype%3A%20lower%2Dalpha%3B%0A%7D%0Add%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20%22Liberation%20Mono%22%2C%20Menlo%2C%20Courier%2C%20monospace%3B%0Afont%2Dsize%3A%2012px%3B%0A%7D%0Apre%20%7B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%200%3B%0Afont%3A%2012px%20Consolas%2C%20%22Liberation%20Mono%22%2C%20Menlo%2C%20Courier%2C%20monospace%3B%0A%7D%0A%2Eselect%3A%3A%2Dms%2Dexpand%20%7B%0Aopacity%3A%200%3B%0A%7D%0A%2Eocticon%20%7B%0Afont%3A%20normal%20normal%20normal%2016px%2F1%20octicons%2Dlink%3B%0Adisplay%3A%20inline%2Dblock%3B%0Atext%2Ddecoration%3A%20none%3B%0Atext%2Drendering%3A%20auto%3B%0A%2Dwebkit%2Dfont%2Dsmoothing%3A%20antialiased%3B%0A%2Dmoz%2Dosx%2Dfont%2Dsmoothing%3A%20grayscale%3B%0A%2Dwebkit%2Duser%2Dselect%3A%20none%3B%0A%2Dmoz%2Duser%2Dselect%3A%20none%3B%0A%2Dms%2Duser%2Dselect%3A%20none%3B%0Auser%2Dselect%3A%20none%3B%0A%7D%0A%2Eocticon%2Dlink%3Abefore%20%7B%0Acontent%3A%20%27%5Cf05c%27%3B%0A%7D%0A%2Emarkdown%2Dbody%3Abefore%20%7B%0Adisplay%3A%20table%3B%0Acontent%3A%20%22%22%3B%0A%7D%0A%2Emarkdown%2Dbody%3Aafter%20%7B%0Adisplay%3A%20table%3B%0Aclear%3A%20both%3B%0Acontent%3A%20%22%22%3B%0A%7D%0A%2Emarkdown%2Dbody%3E%2A%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%20%21important%3B%0A%7D%0A%2Emarkdown%2Dbody%3E%2A%3Alast%2Dchild%20%7B%0Amargin%2Dbottom%3A%200%20%21important%3B%0A%7D%0Aa%3Anot%28%5Bhref%5D%29%20%7B%0Acolor%3A%20inherit%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0A%2Eanchor%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Apadding%2Dright%3A%202px%3B%0Amargin%2Dleft%3A%20%2D18px%3B%0A%7D%0A%2Eanchor%3Afocus%20%7B%0Aoutline%3A%20none%3B%0A%7D%0Ah1%2C%0Ah2%2C%0Ah3%2C%0Ah4%2C%0Ah5%2C%0Ah6%20%7B%0Amargin%2Dtop%3A%201em%3B%0Amargin%2Dbottom%3A%2016px%3B%0Afont%2Dweight%3A%20bold%3B%0Aline%2Dheight%3A%201%2E4%3B%0A%7D%0Ah1%20%2Eocticon%2Dlink%2C%0Ah2%20%2Eocticon%2Dlink%2C%0Ah3%20%2Eocticon%2Dlink%2C%0Ah4%20%2Eocticon%2Dlink%2C%0Ah5%20%2Eocticon%2Dlink%2C%0Ah6%20%2Eocticon%2Dlink%20%7B%0Acolor%3A%20%23000%3B%0Avertical%2Dalign%3A%20middle%3B%0Avisibility%3A%20hidden%3B%0A%7D%0Ah1%3Ahover%20%2Eanchor%2C%0Ah2%3Ahover%20%2Eanchor%2C%0Ah3%3Ahover%20%2Eanchor%2C%0Ah4%3Ahover%20%2Eanchor%2C%0Ah5%3Ahover%20%2Eanchor%2C%0Ah6%3Ahover%20%2Eanchor%20%7B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Ah1%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah2%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah3%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah4%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah5%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%2C%0Ah6%3Ahover%20%2Eanchor%20%2Eocticon%2Dlink%20%7B%0Avisibility%3A%20visible%3B%0A%7D%0Ah1%20%7B%0Apadding%2Dbottom%3A%200%2E3em%3B%0Afont%2Dsize%3A%202%2E25em%3B%0Aline%2Dheight%3A%201%2E2%3B%0Aborder%2Dbottom%3A%201px%20solid%20%23eee%3B%0A%7D%0Ah1%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%3B%0A%7D%0Ah2%20%7B%0Apadding%2Dbottom%3A%200%2E3em%3B%0Afont%2Dsize%3A%201%2E75em%3B%0Aline%2Dheight%3A%201%2E225%3B%0Aborder%2Dbottom%3A%201px%20solid%20%23eee%3B%0A%7D%0Ah2%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%3B%0A%7D%0Ah3%20%7B%0Afont%2Dsize%3A%201%2E5em%3B%0Aline%2Dheight%3A%201%2E43%3B%0A%7D%0Ah3%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E2%3B%0A%7D%0Ah4%20%7B%0Afont%2Dsize%3A%201%2E25em%3B%0A%7D%0Ah4%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E2%3B%0A%7D%0Ah5%20%7B%0Afont%2Dsize%3A%201em%3B%0A%7D%0Ah5%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E1%3B%0A%7D%0Ah6%20%7B%0Afont%2Dsize%3A%201em%3B%0Acolor%3A%20%23777%3B%0A%7D%0Ah6%20%2Eanchor%20%7B%0Aline%2Dheight%3A%201%2E1%3B%0A%7D%0Ap%2C%0Ablockquote%2C%0Aul%2C%0Aol%2C%0Adl%2C%0Atable%2C%0Apre%20%7B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%2016px%3B%0A%7D%0Ahr%20%7B%0Aheight%3A%204px%3B%0Apadding%3A%200%3B%0Amargin%3A%2016px%200%3B%0Abackground%2Dcolor%3A%20%23e7e7e7%3B%0Aborder%3A%200%20none%3B%0A%7D%0Aul%2C%0Aol%20%7B%0Apadding%2Dleft%3A%202em%3B%0A%7D%0Aul%20ul%2C%0Aul%20ol%2C%0Aol%20ol%2C%0Aol%20ul%20%7B%0Amargin%2Dtop%3A%200%3B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Ali%3Ep%20%7B%0Amargin%2Dtop%3A%2016px%3B%0A%7D%0Adl%20%7B%0Apadding%3A%200%3B%0A%7D%0Adl%20dt%20%7B%0Apadding%3A%200%3B%0Amargin%2Dtop%3A%2016px%3B%0Afont%2Dsize%3A%201em%3B%0Afont%2Dstyle%3A%20italic%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Adl%20dd%20%7B%0Apadding%3A%200%2016px%3B%0Amargin%2Dbottom%3A%2016px%3B%0A%7D%0Ablockquote%20%7B%0Apadding%3A%200%2015px%3B%0Acolor%3A%20%23777%3B%0Aborder%2Dleft%3A%204px%20solid%20%23ddd%3B%0A%7D%0Ablockquote%3E%3Afirst%2Dchild%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Ablockquote%3E%3Alast%2Dchild%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Atable%20%7B%0Adisplay%3A%20block%3B%0Awidth%3A%20100%25%3B%0Aoverflow%3A%20auto%3B%0Aword%2Dbreak%3A%20normal%3B%0Aword%2Dbreak%3A%20keep%2Dall%3B%0A%7D%0Atable%20th%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Atable%20th%2C%0Atable%20td%20%7B%0Apadding%3A%206px%2013px%3B%0Aborder%3A%201px%20solid%20%23ddd%3B%0A%7D%0Atable%20tr%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Aborder%2Dtop%3A%201px%20solid%20%23ccc%3B%0A%7D%0Atable%20tr%3Anth%2Dchild%282n%29%20%7B%0Abackground%2Dcolor%3A%20%23f8f8f8%3B%0A%7D%0Aimg%20%7B%0Amax%2Dwidth%3A%20100%25%3B%0Abox%2Dsizing%3A%20content%2Dbox%3B%0Abackground%2Dcolor%3A%20%23fff%3B%0A%7D%0Acode%20%7B%0Apadding%3A%200%3B%0Apadding%2Dtop%3A%200%2E2em%3B%0Apadding%2Dbottom%3A%200%2E2em%3B%0Amargin%3A%200%3B%0Afont%2Dsize%3A%2085%25%3B%0Abackground%2Dcolor%3A%20rgba%280%2C0%2C0%2C0%2E04%29%3B%0Aborder%2Dradius%3A%203px%3B%0A%7D%0Acode%3Abefore%2C%0Acode%3Aafter%20%7B%0Aletter%2Dspacing%3A%20%2D0%2E2em%3B%0Acontent%3A%20%22%5C00a0%22%3B%0A%7D%0Apre%3Ecode%20%7B%0Apadding%3A%200%3B%0Amargin%3A%200%3B%0Afont%2Dsize%3A%20100%25%3B%0Aword%2Dbreak%3A%20normal%3B%0Awhite%2Dspace%3A%20pre%3B%0Abackground%3A%20transparent%3B%0Aborder%3A%200%3B%0A%7D%0A%2Ehighlight%20%7B%0Amargin%2Dbottom%3A%2016px%3B%0A%7D%0A%2Ehighlight%20pre%2C%0Apre%20%7B%0Apadding%3A%2016px%3B%0Aoverflow%3A%20auto%3B%0Afont%2Dsize%3A%2085%25%3B%0Aline%2Dheight%3A%201%2E45%3B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0A%7D%0A%2Ehighlight%20pre%20%7B%0Amargin%2Dbottom%3A%200%3B%0Aword%2Dbreak%3A%20normal%3B%0A%7D%0Apre%20%7B%0Aword%2Dwrap%3A%20normal%3B%0A%7D%0Apre%20code%20%7B%0Adisplay%3A%20inline%3B%0Amax%2Dwidth%3A%20initial%3B%0Apadding%3A%200%3B%0Amargin%3A%200%3B%0Aoverflow%3A%20initial%3B%0Aline%2Dheight%3A%20inherit%3B%0Aword%2Dwrap%3A%20normal%3B%0Abackground%2Dcolor%3A%20transparent%3B%0Aborder%3A%200%3B%0A%7D%0Apre%20code%3Abefore%2C%0Apre%20code%3Aafter%20%7B%0Acontent%3A%20normal%3B%0A%7D%0Akbd%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Apadding%3A%203px%205px%3B%0Afont%2Dsize%3A%2011px%3B%0Aline%2Dheight%3A%2010px%3B%0Acolor%3A%20%23555%3B%0Avertical%2Dalign%3A%20middle%3B%0Abackground%2Dcolor%3A%20%23fcfcfc%3B%0Aborder%3A%20solid%201px%20%23ccc%3B%0Aborder%2Dbottom%2Dcolor%3A%20%23bbb%3B%0Aborder%2Dradius%3A%203px%3B%0Abox%2Dshadow%3A%20inset%200%20%2D1px%200%20%23bbb%3B%0A%7D%0A%2Epl%2Dc%20%7B%0Acolor%3A%20%23969896%3B%0A%7D%0A%2Epl%2Dc1%2C%0A%2Epl%2Ds%20%2Epl%2Dv%20%7B%0Acolor%3A%20%230086b3%3B%0A%7D%0A%2Epl%2De%2C%0A%2Epl%2Den%20%7B%0Acolor%3A%20%23795da3%3B%0A%7D%0A%2Epl%2Ds%20%2Epl%2Ds1%2C%0A%2Epl%2Dsmi%20%7B%0Acolor%3A%20%23333%3B%0A%7D%0A%2Epl%2Dent%20%7B%0Acolor%3A%20%2363a35c%3B%0A%7D%0A%2Epl%2Dk%20%7B%0Acolor%3A%20%23a71d5d%3B%0A%7D%0A%2Epl%2Dpds%2C%0A%2Epl%2Ds%2C%0A%2Epl%2Ds%20%2Epl%2Dpse%20%2Epl%2Ds1%2C%0A%2Epl%2Dsr%2C%0A%2Epl%2Dsr%20%2Epl%2Dcce%2C%0A%2Epl%2Dsr%20%2Epl%2Dsra%2C%0A%2Epl%2Dsr%20%2Epl%2Dsre%20%7B%0Acolor%3A%20%23183691%3B%0A%7D%0A%2Epl%2Dv%20%7B%0Acolor%3A%20%23ed6a43%3B%0A%7D%0A%2Epl%2Did%20%7B%0Acolor%3A%20%23b52a1d%3B%0A%7D%0A%2Epl%2Dii%20%7B%0Abackground%2Dcolor%3A%20%23b52a1d%3B%0Acolor%3A%20%23f8f8f8%3B%0A%7D%0A%2Epl%2Dsr%20%2Epl%2Dcce%20%7B%0Acolor%3A%20%2363a35c%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dml%20%7B%0Acolor%3A%20%23693a17%3B%0A%7D%0A%2Epl%2Dmh%2C%0A%2Epl%2Dmh%20%2Epl%2Den%2C%0A%2Epl%2Dms%20%7B%0Acolor%3A%20%231d3e81%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dmq%20%7B%0Acolor%3A%20%23008080%3B%0A%7D%0A%2Epl%2Dmi%20%7B%0Acolor%3A%20%23333%3B%0Afont%2Dstyle%3A%20italic%3B%0A%7D%0A%2Epl%2Dmb%20%7B%0Acolor%3A%20%23333%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dmd%20%7B%0Abackground%2Dcolor%3A%20%23ffecec%3B%0Acolor%3A%20%23bd2c00%3B%0A%7D%0A%2Epl%2Dmi1%20%7B%0Abackground%2Dcolor%3A%20%23eaffea%3B%0Acolor%3A%20%2355a532%3B%0A%7D%0A%2Epl%2Dmdr%20%7B%0Acolor%3A%20%23795da3%3B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0A%2Epl%2Dmo%20%7B%0Acolor%3A%20%231d3e81%3B%0A%7D%0Akbd%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0Apadding%3A%203px%205px%3B%0Afont%3A%2011px%20Consolas%2C%20%22Liberation%20Mono%22%2C%20Menlo%2C%20Courier%2C%20monospace%3B%0Aline%2Dheight%3A%2010px%3B%0Acolor%3A%20%23555%3B%0Avertical%2Dalign%3A%20middle%3B%0Abackground%2Dcolor%3A%20%23fcfcfc%3B%0Aborder%3A%20solid%201px%20%23ccc%3B%0Aborder%2Dbottom%2Dcolor%3A%20%23bbb%3B%0Aborder%2Dradius%3A%203px%3B%0Abox%2Dshadow%3A%20inset%200%20%2D1px%200%20%23bbb%3B%0A%7D%0A%2Etask%2Dlist%2Ditem%20%7B%0Alist%2Dstyle%2Dtype%3A%20none%3B%0A%7D%0A%2Etask%2Dlist%2Ditem%2B%2Etask%2Dlist%2Ditem%20%7B%0Amargin%2Dtop%3A%203px%3B%0A%7D%0A%2Etask%2Dlist%2Ditem%20input%20%7B%0Amargin%3A%200%200%2E35em%200%2E25em%20%2D1%2E6em%3B%0Avertical%2Dalign%3A%20middle%3B%0A%7D%0A%3Achecked%2B%2Eradio%2Dlabel%20%7B%0Az%2Dindex%3A%201%3B%0Aposition%3A%20relative%3B%0Aborder%2Dcolor%3A%20%234078c0%3B%0A%7D%0A%2EsourceLine%20%7B%0Adisplay%3A%20inline%2Dblock%3B%0A%7D%0Acode%20%2Ekw%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Edt%20%7B%20color%3A%20%23ed6a43%3B%20%7D%0Acode%20%2Edv%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Ebn%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Efl%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Ech%20%7B%20color%3A%20%23009999%3B%20%7D%0Acode%20%2Est%20%7B%20color%3A%20%23183691%3B%20%7D%0Acode%20%2Eco%20%7B%20color%3A%20%23969896%3B%20%7D%0Acode%20%2Eot%20%7B%20color%3A%20%230086b3%3B%20%7D%0Acode%20%2Eal%20%7B%20color%3A%20%23a61717%3B%20%7D%0Acode%20%2Efu%20%7B%20color%3A%20%2363a35c%3B%20%7D%0Acode%20%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%0Acode%20%2Ewa%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Ecn%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Esc%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Evs%20%7B%20color%3A%20%23183691%3B%20%7D%0Acode%20%2Ess%20%7B%20color%3A%20%23183691%3B%20%7D%0Acode%20%2Eim%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Eva%20%7Bcolor%3A%20%23008080%3B%20%7D%0Acode%20%2Ecf%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Eop%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Ebu%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Eex%20%7B%20color%3A%20%23000000%3B%20%7D%0Acode%20%2Epp%20%7B%20color%3A%20%23999999%3B%20%7D%0Acode%20%2Eat%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Edo%20%7B%20color%3A%20%23969896%3B%20%7D%0Acode%20%2Ean%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Ecv%20%7B%20color%3A%20%23008080%3B%20%7D%0Acode%20%2Ein%20%7B%20color%3A%20%23008080%3B%20%7D%0A" rel="stylesheet">
<style>
body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
  padding-top: 0px;
}
</style>

</head>

<body>

<p>00055_example_4.1_of_section_4.1.1.R</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># example 4.1 of section 4.1.1 </span>
<span class="co"># (example 4.1 of section 4.1.1)  : Managing data : Cleaning data : Domain-specific data cleaning </span>
<span class="co"># Title: Treating the age and income variables </span>

<span class="kw">library</span>(dplyr)</code></pre></div>
<pre><code>## Warning: package 'dplyr' was built under R version 3.5.2

## 
## Attaching package: 'dplyr'

## The following objects are masked from 'package:stats':
## 
##     filter, lag

## The following objects are masked from 'package:base':
## 
##     intersect, setdiff, setequal, union</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">customer_data =<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;../Custdata/custdata.RDS&quot;</span>)     <span class="co"># Note: 1 </span>

customer_data &lt;-<span class="st"> </span>customer_data %&gt;%
<span class="st">   </span><span class="kw">mutate</span>(<span class="dt">age =</span> <span class="kw">na_if</span>(age, <span class="dv">0</span>),                  <span class="co"># Note: 2 </span>
          <span class="dt">income =</span> <span class="kw">ifelse</span>(income &lt;<span class="st"> </span><span class="dv">0</span>, <span class="ot">NA</span>, income))  <span class="co"># Note: 3</span>

<span class="co"># Note 1: </span>
<span class="co">#   Load the data. </span>

<span class="co"># Note 2: </span>
<span class="co">#   The function mutate() from the dplyr package adds columns to a data frame, or modifies existing columns. </span>
<span class="co">#   The function na_if(), also from dplyr, turns a specific problematic value (in this case, 0) to NA </span>

<span class="co"># Note 3: </span>
<span class="co">#   Convert negative incomes to NA </span></code></pre></div>
<p>00056_example_4.2_of_section_4.1.1.R</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># example 4.2 of section 4.1.1 </span>
<span class="co"># (example 4.2 of section 4.1.1)  : Managing data : Cleaning data : Domain-specific data cleaning </span>
<span class="co"># Title: Treating the gas_usage variable </span>

N =<span class="st"> </span><span class="kw">nrow</span>(customer_data)
                                        
customer_data &lt;-<span class="st"> </span>customer_data %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">gas_with_rent =</span> (gas_usage ==<span class="st"> </span><span class="dv">1</span>),                      <span class="co"># Note: 1 </span>
         <span class="dt">gas_with_electricity =</span> (gas_usage ==<span class="st"> </span><span class="dv">2</span>),
         <span class="dt">no_gas_bill =</span> (gas_usage ==<span class="st"> </span><span class="dv">3</span>) ) %&gt;%
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">gas_usage =</span> <span class="kw">ifelse</span>(gas_usage &lt;<span class="st"> </span><span class="dv">4</span>, <span class="ot">NA</span>, gas_usage))  <span class="co"># Note: 2</span>

<span class="co"># Note 1: </span>
<span class="co">#   Create the three indicator variables. </span>

<span class="co"># Note 2: </span>
<span class="co">#   Convert the special codes in the gas_usage column to NA. </span></code></pre></div>
<p>00057_example_4.3_of_section_4.1.2.R</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># example 4.3 of section 4.1.2 </span>
<span class="co"># (example 4.3 of section 4.1.2)  : Managing data : Cleaning data : Treating missing values (NAs) </span>
<span class="co"># Title: Count the missing values in each variable </span>

count_missing =<span class="st"> </span>function(df) {                      <span class="co"># Note: 1 </span>
  <span class="kw">sapply</span>(df, <span class="dt">FUN=</span>function(col) <span class="kw">sum</span>(<span class="kw">is.na</span>(col)) )
}

nacounts &lt;-<span class="st"> </span><span class="kw">count_missing</span>(customer_data)
hasNA =<span class="st"> </span><span class="kw">which</span>(nacounts &gt;<span class="st"> </span><span class="dv">0</span>)                             <span class="co"># Note: 2 </span>
nacounts[hasNA]</code></pre></div>
<pre><code>##          is_employed               income         housing_type 
##                25774                   45                 1720 
##          recent_move         num_vehicles                  age 
##                 1721                 1720                   77 
##            gas_usage        gas_with_rent gas_with_electricity 
##                35702                 1720                 1720 
##          no_gas_bill 
##                 1720</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##          is_employed               income         housing_type 
##                25774                   45                 1720 
##          recent_move         num_vehicles                  age 
##                 1721                 1720                   77 
##            gas_usage        gas_with_rent gas_with_electricity 
##                35702                 1720                 1720 
##          no_gas_bill 
##                 1720

<span class="co"># Note 1: </span>
<span class="co">#   Define a function that counts the number of NAs in each column of a data frame. </span>

<span class="co"># Note 2: </span>
<span class="co">#   Apply the function to customer_data, identify which columns have missing values, and print the columns and counts. </span></code></pre></div>
<p>00058_informalexample_4.1_of_section_4.1.3.R</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># informalexample 4.1 of section 4.1.3 </span>
<span class="co"># (informalexample 4.1 of section 4.1.3)  : Managing data : Cleaning data : The vtreat package for automatically treating missing variables </span>

varlist &lt;-<span class="st"> </span><span class="kw">setdiff</span>(<span class="kw">colnames</span>(customer_data), <span class="kw">c</span>(<span class="st">&quot;custid&quot;</span>, <span class="st">&quot;health_ins&quot;</span>))</code></pre></div>
<p>00059_example_4.4_of_section_4.1.3.R</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># example 4.4 of section 4.1.3 </span>
<span class="co"># (example 4.4 of section 4.1.3)  : Managing data : Cleaning data : The vtreat package for automatically treating missing variables </span>
<span class="co"># Title: Creating and applying a treatment plan </span>

<span class="kw">library</span>(vtreat)</code></pre></div>
<pre><code>## Warning: package 'vtreat' was built under R version 3.5.2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">treatment_plan &lt;-<span class="st"> </span><span class="kw">design_missingness_treatment</span>(customer_data, <span class="dt">varlist =</span> varlist)
training_prepared &lt;-<span class="st"> </span><span class="kw">prepare</span>(treatment_plan, customer_data)</code></pre></div>
<p>00060_example_4.5_of_section_4.1.3.R</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># example 4.5 of section 4.1.3 </span>
<span class="co"># (example 4.5 of section 4.1.3)  : Managing data : Cleaning data : The vtreat package for automatically treating missing variables </span>
<span class="co"># Title: Comparing the treated data to the original </span>

<span class="kw">colnames</span>(customer_data)   </code></pre></div>
<pre><code>##  [1] &quot;custid&quot;               &quot;sex&quot;                  &quot;is_employed&quot;         
##  [4] &quot;income&quot;               &quot;marital_status&quot;       &quot;health_ins&quot;          
##  [7] &quot;housing_type&quot;         &quot;recent_move&quot;          &quot;num_vehicles&quot;        
## [10] &quot;age&quot;                  &quot;state_of_res&quot;         &quot;gas_usage&quot;           
## [13] &quot;gas_with_rent&quot;        &quot;gas_with_electricity&quot; &quot;no_gas_bill&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##  [1] &quot;custid&quot;               &quot;sex&quot;                  &quot;is_employed&quot;         
##  [4] &quot;income&quot;               &quot;marital_status&quot;       &quot;health_ins&quot;          
##  [7] &quot;housing_type&quot;         &quot;recent_move&quot;          &quot;num_vehicles&quot;        
## [10] &quot;age&quot;                  &quot;state_of_res&quot;         &quot;gas_usage&quot;           
## [13] &quot;gas_with_rent&quot;        &quot;gas_with_electricity&quot; &quot;no_gas_bill&quot;    
                                        
<span class="kw">colnames</span>(training_prepared)     <span class="co"># Note: 1 </span></code></pre></div>
<pre><code>##  [1] &quot;custid&quot;                     &quot;health_ins&quot;                
##  [3] &quot;sex&quot;                        &quot;is_employed&quot;               
##  [5] &quot;is_employed_isBAD&quot;          &quot;income&quot;                    
##  [7] &quot;income_isBAD&quot;               &quot;marital_status&quot;            
##  [9] &quot;housing_type&quot;               &quot;recent_move&quot;               
## [11] &quot;recent_move_isBAD&quot;          &quot;num_vehicles&quot;              
## [13] &quot;num_vehicles_isBAD&quot;         &quot;age&quot;                       
## [15] &quot;age_isBAD&quot;                  &quot;state_of_res&quot;              
## [17] &quot;gas_usage&quot;                  &quot;gas_usage_isBAD&quot;           
## [19] &quot;gas_with_rent&quot;              &quot;gas_with_rent_isBAD&quot;       
## [21] &quot;gas_with_electricity&quot;       &quot;gas_with_electricity_isBAD&quot;
## [23] &quot;no_gas_bill&quot;                &quot;no_gas_bill_isBAD&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##  [1] &quot;custid&quot;                     &quot;sex&quot;                       
##  [3] &quot;is_employed&quot;                &quot;income&quot;                    
##  [5] &quot;marital_status&quot;             &quot;health_ins&quot;                
##  [7] &quot;housing_type&quot;               &quot;recent_move&quot;               
##  [9] &quot;num_vehicles&quot;               &quot;age&quot;                       
## [11] &quot;state_of_res&quot;               &quot;gas_usage&quot;                 
## [13] &quot;gas_with_rent&quot;              &quot;gas_with_electricity&quot;      
## [15] &quot;no_gas_bill&quot;                &quot;is_employed_isBAD&quot;         
## [17] &quot;income_isBAD&quot;               &quot;recent_move_isBAD&quot;         
## [19] &quot;num_vehicles_isBAD&quot;         &quot;age_isBAD&quot;                 
## [21] &quot;gas_usage_isBAD&quot;            &quot;gas_with_rent_isBAD&quot;       
## [23] &quot;gas_with_electricity_isBAD&quot; &quot;no_gas_bill_isBAD&quot;                                    
                                        
nacounts &lt;-<span class="st"> </span><span class="kw">sapply</span>(training_prepared, <span class="dt">FUN=</span>function(col) <span class="kw">sum</span>(<span class="kw">is.na</span>(col)) )   <span class="co"># Note: 2 </span>
<span class="kw">sum</span>(nacounts)</code></pre></div>
<pre><code>## [1] 0</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## [1] 0

<span class="co"># Note 1: </span>
<span class="co">#   The prepared data has additional columns that are not in the  </span>
<span class="co">#   original data, most importantly those with the _isBAD designation. </span>

<span class="co"># Note 2: </span>
<span class="co">#   The prepared data has no missing values. </span></code></pre></div>
<p>00061_example_4.6_of_section_4.1.3.R</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># example 4.6 of section 4.1.3 </span>
<span class="co"># (example 4.6 of section 4.1.3)  : Managing data : Cleaning data : The vtreat package for automatically treating missing variables </span>
<span class="co"># Title: Examining the data treatment </span>

htmissing &lt;-<span class="st"> </span><span class="kw">which</span>(<span class="kw">is.na</span>(customer_data$housing_type))   <span class="co"># Note: 1 </span>
                                        
columns_to_look_at &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;custid&quot;</span>, <span class="st">&quot;is_employed&quot;</span>, <span class="st">&quot;num_vehicles&quot;</span>,
                           <span class="st">&quot;housing_type&quot;</span>, <span class="st">&quot;health_ins&quot;</span>)
                                        
customer_data[htmissing, columns_to_look_at] %&gt;%<span class="st"> </span><span class="kw">head</span>()                                         <span class="co"># Note: 2 </span></code></pre></div>
<pre><code>##           custid is_employed num_vehicles housing_type health_ins
## 55  000082691_01        TRUE           NA         &lt;NA&gt;      FALSE
## 65  000116191_01        TRUE           NA         &lt;NA&gt;       TRUE
## 162 000269295_01          NA           NA         &lt;NA&gt;      FALSE
## 207 000349708_01          NA           NA         &lt;NA&gt;      FALSE
## 219 000362630_01          NA           NA         &lt;NA&gt;       TRUE
## 294 000443953_01          NA           NA         &lt;NA&gt;       TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##           custid is_employed num_vehicles housing_type health_ins
## 55  000082691_01        TRUE           NA         &lt;NA&gt;      FALSE
## 65  000116191_01        TRUE           NA         &lt;NA&gt;       TRUE
## 162 000269295_01          NA           NA         &lt;NA&gt;      FALSE
## 207 000349708_01          NA           NA         &lt;NA&gt;      FALSE
## 219 000362630_01          NA           NA         &lt;NA&gt;       TRUE
## 294 000443953_01          NA           NA         &lt;NA&gt;       TRUE
                                        
columns_to_look_at =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;custid&quot;</span>, <span class="st">&quot;is_employed&quot;</span>, <span class="st">&quot;is_employed_isBAD&quot;</span>,
                       <span class="st">&quot;num_vehicles&quot;</span>,<span class="st">&quot;num_vehicles_isBAD&quot;</span>,
                       <span class="st">&quot;housing_type&quot;</span>, <span class="st">&quot;health_ins&quot;</span>)
                                        
training_prepared[htmissing, columns_to_look_at] %&gt;%<span class="st">  </span><span class="kw">head</span>()                                            <span class="co"># Note: 3 </span></code></pre></div>
<pre><code>##           custid is_employed is_employed_isBAD num_vehicles
## 55  000082691_01   1.0000000                 0       2.0655
## 65  000116191_01   1.0000000                 0       2.0655
## 162 000269295_01   0.9504928                 1       2.0655
## 207 000349708_01   0.9504928                 1       2.0655
## 219 000362630_01   0.9504928                 1       2.0655
## 294 000443953_01   0.9504928                 1       2.0655
##     num_vehicles_isBAD housing_type health_ins
## 55                   1    _invalid_      FALSE
## 65                   1    _invalid_       TRUE
## 162                  1    _invalid_      FALSE
## 207                  1    _invalid_      FALSE
## 219                  1    _invalid_       TRUE
## 294                  1    _invalid_       TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##           custid is_employed is_employed_isBAD num_vehicles
## 55  000082691_01   1.0000000                 0       2.0655
## 65  000116191_01   1.0000000                 0       2.0655
## 162 000269295_01   0.9504928                 1       2.0655
## 207 000349708_01   0.9504928                 1       2.0655
## 219 000362630_01   0.9504928                 1       2.0655
## 294 000443953_01   0.9504928                 1       2.0655
##     num_vehicles_isBAD housing_type health_ins
## 55                   1    _invalid_      FALSE
## 65                   1    _invalid_       TRUE
## 162                  1    _invalid_      FALSE
## 207                  1    _invalid_      FALSE
## 219                  1    _invalid_       TRUE
## 294                  1    _invalid_       TRUE
                                        
customer_data %&gt;%
<span class="st">    </span><span class="kw">summarize</span>(<span class="dt">mean_vehicles =</span> <span class="kw">mean</span>(num_vehicles, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),
    <span class="dt">mean_employed =</span> <span class="kw">mean</span>(<span class="kw">as.numeric</span>(is_employed), <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))    <span class="co"># Note: 4 </span></code></pre></div>
<pre><code>##   mean_vehicles mean_employed
## 1        2.0655     0.9504928</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##   mean_vehicles mean_employed
## 1        2.0655     0.9504928

<span class="co"># Note 1: </span>
<span class="co">#   Find the rows where housing_type was missing </span>

<span class="co"># Note 2: </span>
<span class="co">#   Look at a few columns from those rows in the original data </span>

<span class="co"># Note 3: </span>
<span class="co">#   Look at those rows and columns in the treated data (along with the isBADS) </span>

<span class="co"># Note 4: </span>
<span class="co">#   Verify the expected number of vehicles and the expected unemployment rate in the data set </span></code></pre></div>
<p>00062_example_4.7_of_section_4.2.R</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># example 4.7 of section 4.2 </span>
<span class="co"># (example 4.7 of section 4.2)  : Managing data : Data transformations </span>
<span class="co"># Title: Normalizing income by state </span>

<span class="kw">library</span>(dplyr)
median_income_table &lt;-<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;../Custdata/median_income.RDS&quot;</span>)     <span class="co"># Note: 1 </span>
<span class="kw">head</span>(median_income_table)  </code></pre></div>
<pre><code>##   state_of_res median_income
## 1      Alabama         21100
## 2       Alaska         32050
## 3      Arizona         26000
## 4     Arkansas         22900
## 5   California         25000
## 6     Colorado         32000</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##   state_of_res median_income
## 1      Alabama         21100
## 2       Alaska         32050
## 3      Arizona         26000
## 4     Arkansas         22900
## 5   California         25000
## 6     Colorado         32000

training_prepared &lt;-<span class="st">  </span>training_prepared %&gt;%
<span class="st">  </span><span class="kw">left_join</span>(., median_income_table, <span class="dt">by=</span><span class="st">&quot;state_of_res&quot;</span>) %&gt;%<span class="st">      </span><span class="co"># Note: 2 </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">income_normalized =</span> income/median_income) 

<span class="kw">head</span>(training_prepared[, <span class="kw">c</span>(<span class="st">&quot;income&quot;</span>, <span class="st">&quot;median_income&quot;</span>, <span class="st">&quot;income_normalized&quot;</span>)])    <span class="co"># Note: 3 </span></code></pre></div>
<pre><code>##   income median_income income_normalized
## 1  22000         21100         1.0426540
## 2  23200         21100         1.0995261
## 3  21000         21100         0.9952607
## 4  37770         21100         1.7900474
## 5  39000         21100         1.8483412
## 6  11100         21100         0.5260664</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##   income median_income income_normalized
## 1  22000         21100         1.0426540
## 2  23200         21100         1.0995261
## 3  21000         21100         0.9952607
## 4  37770         21100         1.7900474
## 5  39000         21100         1.8483412
## 6  11100         21100         0.5260664

<span class="kw">summary</span>(training_prepared$income_normalized)</code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##  0.0000  0.4049  1.0000  1.5685  1.9627 46.5556</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##  0.0000  0.4049  1.0000  1.5685  1.9627 46.5556

<span class="co"># Note 1: </span>
<span class="co">#   If you have downloaded the PDSwR2 code example directory, then ../Custdata/median_income.RDS is in the </span>
<span class="co">#   directory ../../PDSwR2/Custdata. Here we assume that this is your working directory. </span>

<span class="co"># Note 2: </span>
<span class="co">#   Join median_income_table into the customer data, so you can normalize each person's income </span>
<span class="co">#   by the median income of their state. </span>

<span class="co"># Note 3: </span>
<span class="co">#   Compare the values of income and income_normalized. </span></code></pre></div>
<p>00063_example_4.8_of_section_4.2.1.R</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># example 4.8 of section 4.2.1 </span>
<span class="co"># (example 4.8 of section 4.2.1)  : Managing data : Data transformations : Normalization </span>
<span class="co"># Title: Normalizing by mean age </span>

<span class="kw">summary</span>(training_prepared$age)</code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   21.00   34.00   48.00   49.22   62.00  120.00</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   21.00   34.00   48.00   49.22   62.00  120.00

mean_age &lt;-<span class="st"> </span><span class="kw">mean</span>(training_prepared$age)
age_normalized &lt;-<span class="st"> </span>training_prepared$age/mean_age
<span class="kw">summary</span>(age_normalized)</code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##  0.4267  0.6908  0.9753  1.0000  1.2597  2.4382</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##  0.4267  0.6908  0.9753  1.0000  1.2597  2.4382</code></pre></div>
<p>00064_example_4.9_of_section_4.2.2.R</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># example 4.9 of section 4.2.2 </span>
<span class="co"># (example 4.9 of section 4.2.2)  : Managing data : Data transformations : Centering and scaling </span>
<span class="co"># Title: Centering and scaling age </span>

(mean_age &lt;-<span class="st"> </span><span class="kw">mean</span>(training_prepared$age))   <span class="co"># Note: 1 </span></code></pre></div>
<pre><code>## [1] 49.21647</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## [1] 49.21647

(sd_age &lt;-<span class="st"> </span><span class="kw">sd</span>(training_prepared$age))   <span class="co"># Note: 2 </span></code></pre></div>
<pre><code>## [1] 18.0124</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## [1] 18.0124

<span class="kw">print</span>(mean_age +<span class="st"> </span><span class="kw">c</span>(-sd_age, sd_age))    <span class="co"># Note: 3 </span></code></pre></div>
<pre><code>## [1] 31.20407 67.22886</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## [1] 31.20407 67.22886

training_prepared$scaled_age &lt;-<span class="st"> </span>(training_prepared$age -<span class="st"> </span>mean_age) /<span class="st"> </span>sd_age     <span class="co"># Note: 4 </span>

training_prepared %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(<span class="kw">abs</span>(age -<span class="st"> </span>mean_age) &lt;<span class="st"> </span>sd_age) %&gt;%
<span class="st">  </span><span class="kw">select</span>(age, scaled_age) %&gt;%
<span class="st">  </span><span class="kw">head</span>()</code></pre></div>
<pre><code>##   age scaled_age
## 1  67  0.9872942
## 2  54  0.2655690
## 3  61  0.6541903
## 4  64  0.8207422
## 5  57  0.4321210
## 6  55  0.3210864</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##   age scaled_age         # Note: 5 
## 1  67  0.9872942
## 2  54  0.2655690
## 3  61  0.6541903
## 4  64  0.8207422
## 5  57  0.4321210
## 6  55  0.3210864

training_prepared %&gt;%<span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(<span class="kw">abs</span>(age -<span class="st"> </span>mean_age) &gt;<span class="st"> </span>sd_age) %&gt;%
<span class="st">  </span><span class="kw">select</span>(age, scaled_age) %&gt;%
<span class="st">  </span><span class="kw">head</span>()</code></pre></div>
<pre><code>##   age scaled_age
## 1  24  -1.399951
## 2  82   1.820054
## 3  31  -1.011329
## 4  93   2.430745
## 5  76   1.486950
## 6  26  -1.288916</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##   age scaled_age         # Note: 6 
## 1  24  -1.399951
## 2  82   1.820054
## 3  31  -1.011329
## 4  93   2.430745
## 5  76   1.486950
## 6  26  -1.288916

<span class="co"># Note 1: </span>
<span class="co">#   Take the mean. </span>

<span class="co"># Note 2: </span>
<span class="co">#   Take the standard deviation. </span>

<span class="co"># Note 3: </span>
<span class="co">#   The &quot;typical&quot; age range for this population is from about 31 to 67. </span>

<span class="co"># Note 4: </span>
<span class="co">#   Use the mean value as the origin (or </span>
<span class="co">#   reference point) and rescale the distance from the </span>
<span class="co">#   mean by the standard deviation. </span>

<span class="co"># Note 5: </span>
<span class="co">#   Customers in the typical age range have a scaled_age with magnitude less than 1. </span>

<span class="co"># Note 6: </span>
<span class="co">#   Customers outside the typical age range have a scaled_age with magnitude greater than 1. </span></code></pre></div>
<p>00065_example_4.10_of_section_4.2.2.R</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># example 4.10 of section 4.2.2 </span>
<span class="co"># (example 4.10 of section 4.2.2)  : Managing data : Data transformations : Centering and scaling </span>
<span class="co"># Title: Centering and scaling multiple numeric variables </span>

dataf &lt;-<span class="st"> </span>training_prepared[, <span class="kw">c</span>(<span class="st">&quot;age&quot;</span>, <span class="st">&quot;income&quot;</span>, <span class="st">&quot;num_vehicles&quot;</span>, <span class="st">&quot;gas_usage&quot;</span>)]
<span class="kw">summary</span>(dataf)</code></pre></div>
<pre><code>##       age             income         num_vehicles     gas_usage     
##  Min.   : 21.00   Min.   :      0   Min.   :0.000   Min.   :  4.00  
##  1st Qu.: 34.00   1st Qu.:  10700   1st Qu.:1.000   1st Qu.: 50.00  
##  Median : 48.00   Median :  26300   Median :2.000   Median : 76.01  
##  Mean   : 49.22   Mean   :  41792   Mean   :2.066   Mean   : 76.01  
##  3rd Qu.: 62.00   3rd Qu.:  51700   3rd Qu.:3.000   3rd Qu.: 76.01  
##  Max.   :120.00   Max.   :1257000   Max.   :6.000   Max.   :570.00</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##       age             income         num_vehicles     gas_usage     
##  Min.   : 21.00   Min.   :      0   Min.   :0.000   Min.   :  4.00  
##  1st Qu.: 34.00   1st Qu.:  10700   1st Qu.:1.000   1st Qu.: 50.00  
##  Median : 48.00   Median :  26300   Median :2.000   Median : 76.01  
##  Mean   : 49.22   Mean   :  41792   Mean   :2.066   Mean   : 76.01  
##  3rd Qu.: 62.00   3rd Qu.:  51700   3rd Qu.:3.000   3rd Qu.: 76.01  
##  Max.   :120.00   Max.   :1257000   Max.   :6.000   Max.   :570.00

dataf_scaled &lt;-<span class="st"> </span><span class="kw">scale</span>(dataf, <span class="dt">center=</span><span class="ot">TRUE</span>, <span class="dt">scale=</span><span class="ot">TRUE</span>)       <span class="co"># Note: 1 </span>
                                        
<span class="kw">summary</span>(dataf_scaled)</code></pre></div>
<pre><code>##       age               income         num_vehicles        gas_usage      
##  Min.   :-1.56650   Min.   :-0.7193   Min.   :-1.78631   Min.   :-1.4198  
##  1st Qu.:-0.84478   1st Qu.:-0.5351   1st Qu.:-0.92148   1st Qu.:-0.5128  
##  Median :-0.06753   Median :-0.2666   Median :-0.05665   Median : 0.0000  
##  Mean   : 0.00000   Mean   : 0.0000   Mean   : 0.00000   Mean   : 0.0000  
##  3rd Qu.: 0.70971   3rd Qu.: 0.1705   3rd Qu.: 0.80819   3rd Qu.: 0.0000  
##  Max.   : 3.92971   Max.   :20.9149   Max.   : 3.40268   Max.   : 9.7400</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##       age               income         num_vehicles        gas_usage      
##  Min.   :-1.56650   Min.   :-0.7193   Min.   :-1.78631   Min.   :-1.4198  
##  1st Qu.:-0.84478   1st Qu.:-0.5351   1st Qu.:-0.92148   1st Qu.:-0.5128  
##  Median :-0.06753   Median :-0.2666   Median :-0.05665   Median : 0.0000  
##  Mean   : 0.00000   Mean   : 0.0000   Mean   : 0.00000   Mean   : 0.0000  
##  3rd Qu.: 0.70971   3rd Qu.: 0.1705   3rd Qu.: 0.80819   3rd Qu.: 0.0000  
##  Max.   : 3.92971   Max.   :20.9149   Max.   : 3.40268   Max.   : 9.7400

(means &lt;-<span class="st"> </span><span class="kw">attr</span>(dataf_scaled, <span class="st">'scaled:center'</span>))      <span class="co"># Note: 2 </span></code></pre></div>
<pre><code>##          age       income num_vehicles    gas_usage 
##     49.21647  41792.51062      2.06550     76.00745</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##          age       income num_vehicles    gas_usage 
##     49.21647  41792.51062      2.06550     76.00745

(sds &lt;-<span class="st"> </span><span class="kw">attr</span>(dataf_scaled, <span class="st">'scaled:scale'</span>))</code></pre></div>
<pre><code>##          age       income num_vehicles    gas_usage 
##    18.012397 58102.481410     1.156294    50.717778</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">##          age       income num_vehicles    gas_usage 
##    18.012397 58102.481410     1.156294    50.717778

<span class="co"># Note 1: </span>
<span class="co">#   Center the data by its mean and scale it by its standard deviation </span>

<span class="co"># Note 2: </span>
<span class="co">#   Get the means and standard deviations of the original data, which are stored as </span>
<span class="co">#   attributes of dataf_scaled </span></code></pre></div>
<p>00066_example_4.11_of_section_4.2.2.R</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># example 4.11 of section 4.2.2 </span>
<span class="co"># (example 4.11 of section 4.2.2)  : Managing data : Data transformations : Centering and scaling </span>
<span class="co"># Title: Treating new data before feeding it to a model </span>

newdata &lt;-<span class="st"> </span>customer_data    <span class="co"># Note: 1 </span>
                                                
<span class="kw">library</span>(vtreat)     <span class="co"># Note: 2 </span>
newdata_treated &lt;-<span class="st"> </span><span class="kw">prepare</span>(treatment_plan, newdata)
                                                
new_dataf &lt;-<span class="st"> </span>newdata_treated[, <span class="kw">c</span>(<span class="st">&quot;age&quot;</span>, <span class="st">&quot;income&quot;</span>, <span class="st">&quot;num_vehicles&quot;</span>, <span class="st">&quot;gas_usage&quot;</span>)]     <span class="co"># Note: 3  </span>
dataf_scaled &lt;-<span class="st"> </span><span class="kw">scale</span>(new_dataf, <span class="dt">center=</span>means, <span class="dt">scale=</span>sds)

<span class="co"># Note 1: </span>
<span class="co">#   Simulate having a new customer data set. </span>

<span class="co"># Note 2: </span>
<span class="co">#   Clean it using the treatment plan from the original data set. </span>

<span class="co"># Note 3: </span>
<span class="co">#   Scale age, income, num_vehicles, and gas_usage using the means </span>
<span class="co">#   and standard deviations from the original data set. </span></code></pre></div>
<p>00067_informalexample_4.2_of_section_4.2.3.R</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># informalexample 4.2 of section 4.2.3 </span>
<span class="co"># (informalexample 4.2 of section 4.2.3)  : Managing data : Data transformations : Log transformations for skewed and wide distributions </span>

signedlog10 &lt;-<span class="st"> </span>function(x) {
     <span class="kw">ifelse</span>(<span class="kw">abs</span>(x) &lt;=<span class="st"> </span><span class="dv">1</span>, <span class="dv">0</span>, <span class="kw">sign</span>(x)*<span class="kw">log10</span>(<span class="kw">abs</span>(x)))
}</code></pre></div>
<p>00068_example_4.12_of_section_4.3.2.R</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># example 4.12 of section 4.3.2 </span>
<span class="co"># (example 4.12 of section 4.3.2)  : Managing data : Sampling for modeling and validation : Creating a sample group column </span>
<span class="co"># Title: Splitting into test and training using a random group mark </span>

<span class="kw">set.seed</span>(<span class="dv">25643</span>)     <span class="co"># Note: 1 </span>
customer_data$gp &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="kw">nrow</span>(customer_data))                          <span class="co"># Note: 2 </span>
customer_test &lt;-<span class="st"> </span><span class="kw">subset</span>(customer_data, gp &lt;=<span class="st"> </span><span class="fl">0.1</span>)                   <span class="co"># Note: 3 </span>
customer_train &lt;-<span class="st"> </span><span class="kw">subset</span>(customer_data, gp &gt;<span class="st"> </span><span class="fl">0.1</span>)                   <span class="co"># Note: 4 </span>

<span class="kw">dim</span>(customer_test)</code></pre></div>
<pre><code>## [1] 7463   16</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## [1] 7463   16

<span class="kw">dim</span>(customer_train)</code></pre></div>
<pre><code>## [1] 65799    16</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## [1] 65799    16

<span class="co"># Note 1: </span>
<span class="co">#   Set the random seed so this example is reproducible. </span>

<span class="co"># Note 2: </span>
<span class="co">#   Create the grouping column. </span>

<span class="co"># Note 3: </span>
<span class="co">#   Here we generate a test set of about 10% of </span>
<span class="co">#   the data. </span>

<span class="co"># Note 4: </span>
<span class="co">#   Here we generate a training set using the </span>
<span class="co">#   remaining data. </span></code></pre></div>
<p>00069_example_4.13_of_section_4.3.3.R</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># example 4.13 of section 4.3.3 </span>
<span class="co"># (example 4.13 of section 4.3.3)  : Managing data : Sampling for modeling and validation : Record grouping </span>
<span class="co"># Title: Ensuring test/train split doesn’t split inside a household </span>

household_data &lt;-<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;../Custdata/hhdata.RDS&quot;</span>)     <span class="co"># Note: 1 </span>
hh &lt;-<span class="st"> </span><span class="kw">unique</span>(household_data$household_id)   <span class="co"># Note: 2 </span>

<span class="kw">set.seed</span>(<span class="dv">243674</span>)
households &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">household_id =</span> hh,     <span class="co"># Note: 3 </span>
                         <span class="dt">gp =</span> <span class="kw">runif</span>(<span class="kw">length</span>(hh)),
                         <span class="dt">stringsAsFactors=</span><span class="ot">FALSE</span>)

household_data &lt;-<span class="st"> </span>dplyr::<span class="kw">left_join</span>(household_data,  <span class="co"># Note: 4 </span>
                            households,
                            <span class="dt">by =</span> <span class="st">&quot;household_id&quot;</span>)

<span class="co"># Note 1: </span>
<span class="co">#   If you have downloaded the PDSwR2 code example directory, then the household dataset is in the </span>
<span class="co">#   directory ../../PDSwR2/Custdata. Here we assume that this is your working directory. </span>

<span class="co"># Note 2: </span>
<span class="co">#   Get the unique household ids. </span>

<span class="co"># Note 3: </span>
<span class="co">#   Generate a unique sampling group id per household, and put in a column named gp. </span>

<span class="co"># Note 4: </span>
<span class="co">#   Join the household ids back into the original data. </span></code></pre></div>

</body>
</html>
